---
tags:
  - Python
  - Matplotlib
  - 高维可视化
aliases:
  - Contour Plot
  - Heatmap
---

# 等高线图与热图

## 核心场景

当我们需要可视化 **三维数据** ($Z = f(X, Y)$) 但只能使用 **二维平面** 时，等高线图 (Contour) 和热图 (Imshow/Heatmap) 是最佳选择。
- **等高线图**：用线条表示 $Z$ 值相同区域（类似于地形图）。
- **热图**：用颜色深浅表示 $Z$ 值大小。

## 代码实现

利用 `np.multiply.outer` 可以快速生成网格数据，避免双重循环。

```python
import numpy as np
import matplotlib.pyplot as plt

# 1. 准备数据
x = np.linspace(-np.pi, np.pi, 50)
y = x
# 外积操作：生成一个矩阵，对应所有 (x, y) 组合的函数值
# Z = cos(y) / (1 + x^2)
f = np.multiply.outer(np.cos(y), 1 / (1 + x**2))

# 2. 绘制等高线 (Contour)
fig, ax = plt.subplots(figsize=(8, 8))
# levels=45 表示画 45 条等高线
ax.contour(x, y, f, levels=45) 
ax.set_title("Contour Plot")

# 3. 绘制热图 (Image Show)
fig2, ax2 = plt.subplots(figsize=(8, 8))
# extent 参数用于修正坐标轴刻度范围
ax2.imshow(f, extent=(x[0], x[-1], y[0], y[-1]))
ax2.set_title("Heatmap (Imshow)")

plt.show()
```

## 美赛应用

- **地形分析**：如果题目涉及地理数据。
- **灵敏度分析可视化**：展示两个参数 ($X, Y$) 变化对结果 ($Z$) 的共同影响。

## 关联笔记

- 基础绘图设置见 [[Matplotlib 绘图框架详解]]。